import{B as O,d as R,q as E,b as T,u as H,e as h,M as v,ac as j,C as G,r as y,o,f as g,w as i,g as a,h as t,dB as U,dC as S,l as u,k as c,y as x,H as V,I as B,x as N,t as Y,dD as J,dE as K,E as Q}from"./index-adf298f8.js";import{c as W,a as X,_ as Z,b as ee,d as P,e as te}from"./layoutSettings-25288562.js";import{u as ae,c as oe}from"./useView-5b009477.js";import"./more-horizontal-20f1eb21.js";import"./dayjs-60adf9f1.js";import{u as se,L as ne}from"./bell-90f80f9a.js";import"./knowledgeBase-b1232fe2.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-897a4f2b.js";const p=O(!1),le={class:"relative z-10 flex h-full w-[230px] flex-col border-r bg-gray-50 transition-all duration-300 ease-in-out"},re={key:0,class:"overflow-y-auto px-2"},ie={class:"mb-3 flex flex-col"},ce={key:0,class:"mx-2 my-2 h-1"},ue=["onClick"],de={class:"flex flex-col ml-2 mr-1"},me=R({__name:"MobileSidebar",setup(w){const{pinnedViews:d,publicViews:l}=ae(),f=se(),m=E(),C=T(),k=H(),A=h(()=>{var _,b;const e=[{label:"All Views",hideLabel:!0,opened:!0,views:v.value?W:X}];return(_=l.value)!=null&&_.length&&!v.value&&e.push({label:"Public Views",opened:!0,hideLabel:!1,views:L(l.value)}),(b=d.value)!=null&&b.length&&e.push({label:"Private Views",opened:!0,hideLabel:!1,views:L(d.value)}),e});function L(s){return s.map(e=>({label:e.label,icon:e.icon,to:{name:e.route_name,query:{view:e.name}},onClick:()=>{oe.value={label:e.label,icon:e.icon}}}))}const I=h(()=>[{label:"Log out",icon:"log-out",onClick:()=>k.logout()}]),q=h(()=>[{component:j(Z)},{label:"Customer portal",icon:"users",onClick:()=>{const s=C.resolve({name:G});window.open(s.href)}},{label:"Log out",icon:"log-out",onClick:()=>k.logout()}]),z=h(()=>v.value?I.value:q.value);function D(s){var e;return m.query.view?m.query.view==((e=s==null?void 0:s.query)==null?void 0:e.view):m.name===s}return(s,e)=>{const _=y("Badge"),b=y("FeatherIcon");return o(),g(t(K),{show:t(p)},{default:i(()=>[a(t(U),{as:"div",onClose:e[0]||(e[0]=n=>p.value=!1),class:"fixed inset-0 z-40"},{default:i(()=>[a(t(S),{as:"template",enter:"transition ease-in-out duration-200 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:i(()=>[u("div",le,[u("div",null,[a(ee,{class:"p-2 mb-2",options:z.value},null,8,["options"])]),t(v)?x("",!0):(o(),c("div",re,[u("div",ie,[a(P,{class:"relative",label:"Notifications",icon:t(ne),"on-click":()=>p.value=!1,"is-expanded":!0,to:"Notifications"},{right:i(()=>[t(f).unread?(o(),g(_,{key:0,label:t(f).unread,theme:"gray",variant:"subtle"},null,8,["label"])):x("",!0)]),_:1},8,["icon","on-click"])])])),(o(!0),c(V,null,B(A.value,n=>{var $;return o(),c("div",{key:n.label},[!n.hideLabel&&(($=n.views)!=null&&$.length)?(o(),c("div",ce)):x("",!0),a(t(te),{label:n.label,hideLabel:n.hideLabel,opened:n.opened},{header:i(({opened:r,hide:F,toggle:M})=>[F?x("",!0):(o(),c("div",{key:0,class:N(["flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out","ml-2 mt-4 h-7 w-auto opacity-100"]),onClick:ve=>M()},[a(b,{name:"chevron-right",class:N(["h-4 text-ink-gray-9 transition-all duration-300 ease-in-out",{"rotate-90":r}])},null,8,["class"]),u("span",null,Y(n.label),1)],8,ue))]),default:i(()=>[u("nav",de,[(o(!0),c(V,null,B(n.views,r=>(o(),g(P,{icon:r.icon,label:r.label,to:r.to,key:r.label,"is-expanded":!0,"is-active":D(r.to),class:"my-0.5",onClick:r.onClick},null,8,["icon","label","to","is-active","onClick"]))),128))])]),_:2},1032,["label","hideLabel","opened"])])}),128))])]),_:1}),a(t(S),{as:"template",enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[a(t(J),{class:"fixed inset-0 bg-gray-600 bg-opacity-50"})]),_:1})]),_:1})]),_:1},8,["show"])}}}),pe={class:"flex border-b h-12 items-center"},fe={class:"z-20 -mr-4 ml-1 flex items-center justify-center"},_e={__name:"MobileAppHeader",setup(w){return(d,l)=>{const f=y("FeatherIcon"),m=y("Button");return o(),c("div",pe,[u("div",fe,[a(m,{variant:"ghosted",onClick:l[0]||(l[0]=C=>p.value=!t(p))},{default:i(()=>[a(f,{name:"menu",class:"size-4"})]),_:1})]),l[1]||(l[1]=u("header",{id:"app-header",class:"w-full"},null,-1))])}}},be={class:"flex h-screen w-screen"},he={class:"flex h-full flex-col flex-1 overflow-auto"},Se={__name:"MobileLayout",setup(w){return(d,l)=>(o(),c("div",be,[a(me),u("div",he,[a(_e),Q(d.$slots,"default")])]))}};export{Se as default};
//# sourceMappingURL=MobileLayout-6bffd3e1.js.map
