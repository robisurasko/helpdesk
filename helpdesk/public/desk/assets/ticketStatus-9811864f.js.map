{"version":3,"file":"ticketStatus-9811864f.js","sources":["../../../../desk/src/components/icons/IndicatorIcon.vue","../../../../desk/src/components/frappe-ui/Dropdown.vue","../../../../desk/src/stores/ticketStatus.ts"],"sourcesContent":["<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle\n      cx=\"8\"\n      cy=\"8\"\n      r=\"4.5\"\n      fill=\"transparent\"\n      stroke=\"currentColor\"\n      stroke-width=\"3\"\n    />\n  </svg>\n</template>\n","<template>\n  <Menu as=\"div\" class=\"relative inline-block text-left\" v-slot=\"{ open }\">\n    <Popover\n      :transition=\"dropdownTransition\"\n      :show=\"open\"\n      :placement=\"popoverPlacement\"\n    >\n      <template #target=\"{ togglePopover }\">\n        <MenuButton as=\"template\">\n          <slot v-if=\"$slots.default\" v-bind=\"{ open, togglePopover }\" />\n          <Button v-else :active=\"open\" v-bind=\"button\">\n            {{ button ? button?.label || null : \"Options\" }}\n          </Button>\n        </MenuButton>\n      </template>\n\n      <template #body>\n        <div\n          class=\"mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n          :class=\"{\n            'mt-2': ['bottom', 'left', 'right'].includes(placement),\n            'ml-2': placement == 'right-start',\n          }\"\n        >\n          <MenuItems\n            class=\"min-w-40 divide-y divide-outline-gray-modals\"\n            :class=\"{\n              'left-0 origin-top-left': placement == 'left',\n              'right-0 origin-top-right': placement == 'right',\n              'inset-x-0 origin-top': placement == 'center',\n              'mt-0 origin-top-right': placement == 'right-start',\n            }\"\n          >\n            <div v-for=\"group in groups\" :key=\"group.key\" class=\"p-1.5\">\n              <div\n                v-if=\"group.group && !group.hideLabel\"\n                class=\"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-4\"\n              >\n                {{ group.group }}\n              </div>\n              <MenuItem\n                v-for=\"item in group.items\"\n                :key=\"item.label\"\n                v-slot=\"{ active }\"\n              >\n                <slot name=\"item\" v-bind=\"{ item, active }\">\n                  <component\n                    v-if=\"item.component\"\n                    :is=\"item.component\"\n                    :active=\"active\"\n                  />\n                  <button\n                    v-else\n                    :class=\"[\n                      active ? 'bg-surface-gray-3' : 'text-ink-gray-6',\n                      'group flex h-7 w-full items-center rounded px-2 text-base',\n                    ]\"\n                    @click=\"item.onClick\"\n                  >\n                    <FeatherIcon\n                      v-if=\"item.icon && typeof item.icon === 'string'\"\n                      :name=\"item.icon\"\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      aria-hidden=\"true\"\n                    />\n                    <component\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      v-else-if=\"item.icon\"\n                      :is=\"item.icon\"\n                    />\n                    <span class=\"whitespace-nowrap text-ink-gray-7\">\n                      {{ item.label }}\n                    </span>\n                  </button>\n                </slot>\n              </MenuItem>\n            </div>\n          </MenuItems>\n          <div v-if=\"slots.footer\" class=\"border-t p-1.5\">\n            <slot name=\"footer\"></slot>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Menu>\n</template>\n\n<script setup>\nimport { Menu, MenuButton, MenuItems, MenuItem } from \"@headlessui/vue\";\nimport { Popover, Button, FeatherIcon } from \"frappe-ui\";\nimport { computed, useSlots } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nconst props = defineProps({\n  button: {\n    type: Object,\n    default: null,\n  },\n  options: {\n    type: Array,\n    default: () => [],\n  },\n  placement: {\n    type: String,\n    default: \"left\",\n  },\n});\n\nconst router = useRouter();\nconst slots = useSlots();\n\nconst dropdownTransition = {\n  enterActiveClass: \"transition duration-100 ease-out\",\n  enterFromClass: \"transform scale-95 opacity-0\",\n  enterToClass: \"transform scale-100 opacity-100\",\n  leaveActiveClass: \"transition duration-75 ease-in\",\n  leaveFromClass: \"transform scale-100 opacity-100\",\n  leaveToClass: \"transform scale-95 opacity-0\",\n};\n\nconst groups = computed(() => {\n  let groups = props.options[0]?.group\n    ? props.options\n    : [{ group: \"\", items: props.options }];\n\n  return groups.map((group, i) => {\n    return {\n      key: i,\n      group: group.group,\n      hideLabel: group.hideLabel || false,\n      items: filterOptions(group.items),\n    };\n  });\n});\n\nconst popoverPlacement = computed(() => {\n  if (props.placement === \"left\") return \"bottom-start\";\n  if (props.placement === \"right\") return \"bottom-end\";\n  if (props.placement === \"center\") return \"bottom-center\";\n  if (props.placement === \"right-start\") return \"right-start\";\n  return \"bottom\";\n});\n\nfunction normalizeDropdownItem(option) {\n  let onClick = option.onClick || null;\n  if (!onClick && option.route && router) {\n    onClick = () => router.push(option.route);\n  }\n\n  return {\n    name: option.name,\n    label: option.label,\n    icon: option.icon,\n    group: option.group,\n    component: option.component,\n    onClick,\n  };\n}\n\nfunction filterOptions(options) {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option));\n}\n</script>\n","import { computed, ref } from \"vue\";\nimport { defineStore } from \"pinia\";\n\nexport const useTicketStatusStore = defineStore(\"ticketStatus\", () => {\n  const options = ref([\"Open\", \"Replied\", \"Resolved\", \"Closed\"]);\n  const dropdown = computed(() =>\n    options.value.map((o) => ({\n      label: o,\n      value: o,\n    }))\n  );\n  const colorMap = {\n    Open: \"red\",\n    Replied: \"blue\",\n    Resolved: \"green\",\n    Closed: \"gray\",\n  };\n  const textColorMap = {\n    Open: \"!text-red-600\",\n    Replied: \"!text-blue-600\",\n    \"Awaiting Response\": \"!text-blue-600\",\n    Resolved: \"!text-green-700\",\n    Closed: \"!text-gray-700\",\n  };\n  const stateActive = [\"Open\", \"Replied\"];\n  const stateInactive = [\"Resolved\", \"Closed\"];\n\n  return {\n    colorMap,\n    dropdown,\n    options,\n    stateActive,\n    stateInactive,\n    textColorMap,\n  };\n});\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","props","__props","router","useRouter","slots","useSlots","dropdownTransition","groups","computed","_a","group","i","filterOptions","popoverPlacement","normalizeDropdownItem","option","onClick","options","useTicketStatusStore","defineStore","ref","dropdown","o"],"mappings":"qUAEIA,EAAU,CACV,WACA,YACA,QAAW,YACX,gDALF,SAAAC,EAAAC,EAAAC,EAAA,QAcIC,EAAA,EAAAC,EAAA,MAAAL,EAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CANAG,EAAM,SAAA,CACN,GAAG,IACH,GAAO,IACP,EAAA,MACA,KAAM,cACN,OAAA,8YC+EN,MAAMC,EAAQC,EAeRC,EAASC,EAAS,EAClBC,EAAQC,EAAQ,EAEhBC,EAAqB,CACzB,iBAAkB,mCAClB,eAAgB,+BAChB,aAAc,kCACd,iBAAkB,iCAClB,eAAgB,kCAChB,aAAc,8BAChB,EAEMC,EAASC,EAAS,IAAM,OAK5B,QAJaC,EAAAT,EAAM,QAAQ,CAAC,IAAf,MAAAS,EAAkB,MAC3BT,EAAM,QACN,CAAC,CAAE,MAAO,GAAI,MAAOA,EAAM,OAAO,CAAE,GAE1B,IAAI,CAACU,EAAOC,KACjB,CACL,IAAKA,EACL,MAAOD,EAAM,MACb,UAAWA,EAAM,WAAa,GAC9B,MAAOE,EAAcF,EAAM,KAAK,CACtC,EACG,CACH,CAAC,EAEKG,EAAmBL,EAAS,IAC5BR,EAAM,YAAc,OAAe,eACnCA,EAAM,YAAc,QAAgB,aACpCA,EAAM,YAAc,SAAiB,gBACrCA,EAAM,YAAc,cAAsB,cACvC,QACR,EAED,SAASc,EAAsBC,EAAQ,CACrC,IAAIC,EAAUD,EAAO,SAAW,KAChC,MAAI,CAACC,GAAWD,EAAO,OAASb,IAC9Bc,EAAU,IAAMd,EAAO,KAAKa,EAAO,KAAK,GAGnC,CACL,KAAMA,EAAO,KACb,MAAOA,EAAO,MACd,KAAMA,EAAO,KACb,MAAOA,EAAO,MACd,UAAWA,EAAO,UAClB,QAAAC,CACJ,CACA,CAEA,SAASJ,EAAcK,EAAS,CAC9B,OAAQA,GAAW,CAAE,GAClB,OAAO,OAAO,EACd,OAAQF,GAAYA,EAAO,UAAYA,EAAO,UAAS,EAAK,EAAK,EACjE,IAAKA,GAAWD,EAAsBC,CAAM,CAAC,CAClD,o6DCjKaG,GAAuBC,EAAY,eAAgB,IAAM,CACpE,MAAMF,EAAUG,EAAI,CAAC,OAAQ,UAAW,WAAY,QAAQ,CAAC,EACvDC,EAAWb,EAAS,IACxBS,EAAQ,MAAM,IAAKK,IAAO,CACxB,MAAOA,EACP,MAAOA,CAAA,EACP,CAAA,EAkBG,MAAA,CACL,SAjBe,CACf,KAAM,MACN,QAAS,OACT,SAAU,QACV,OAAQ,MAAA,EAcR,SAAAD,EACA,QAAAJ,EACA,YAPkB,CAAC,OAAQ,SAAS,EAQpC,cAPoB,CAAC,WAAY,QAAQ,EAQzC,aAhBmB,CACnB,KAAM,gBACN,QAAS,iBACT,oBAAqB,iBACrB,SAAU,kBACV,OAAQ,gBAAA,CAWR,CAEJ,CAAC"}