import{d as k,B as y,e as x,u as C,aG as w,r as _,o as p,k as h,g as r,w as n,l,h as t,E as i,ag as V,aa as F,aJ as E,ai as H,f as $,I as T,z as I,H as S,t as N,V as L}from"./index-14da1b96.js";import{F as M}from"./FileUploader-b9a0914f.js";import{a as P,I as v}from"./useView-c256aa2e.js";import{_ as U}from"./AttachmentItem.vue_vue_type_script_setup_true_lang-3d6f0e25.js";import"./more-horizontal-4b0bead1.js";import"./dayjs-1848fb71.js";import{_ as B}from"./UserAvatar.vue_vue_type_script_setup_true_lang-c18f002f.js";import"./knowledgeBase-b86a51f6.js";const j={class:"rounded p-3 shadow"},z={class:"text-base"},D={class:"flex items-center justify-between"},q={class:"flex flex-col gap-2"},A={class:"flex flex-col space-y-1.5 overflow-auto sm:flex-row sm:justify-between"},G={class:"flex items-center gap-1"},J={class:"flex items-center gap-2"},K=k({__name:"TextEditor",props:{modelValue:{},autofocus:{type:Boolean,default:!1}},emits:["clear","update:modelValue"],setup(b,{expose:c}){const u=b,m=y(null),d=x(()=>m.value.editor),e=C(),s=["Paragraph",["Heading 2","Heading 3","Heading 4","Heading 5"],"Bullet List","Numbered List","Image","Video","Link","Blockquote","Code"];return c({editor:d}),u.autofocus&&w(()=>m.value.editor.commands.focus()),(a,o)=>{const f=_("Button");return p(),h("div",j,[r(t(H),F({ref_key:"e",ref:m,extensions:[t(P)]},a.$attrs,{"editor-class":["prose-f max-h-64 max-w-none overflow-auto my-4 min-h-[5rem",t(E)(a.modelValue)],"bubble-menu":"",content:a.modelValue,onChange:o[1]||(o[1]=g=>a.$emit("update:modelValue",g))}),{top:n(()=>[l("span",z,[l("span",D,[r(t(B),{name:t(e).userName,image:t(e).userImage,expand:"",strong:""},null,8,["name","image"]),i(a.$slots,"top-right")]),i(a.$slots,"top-bottom")])]),bottom:n(()=>[l("div",q,[i(a.$slots,"bottom-top"),l("div",A,[l("div",G,[r(t(V),{buttons:s}),i(a.$slots,"bottom-left")]),l("div",J,[r(f,{label:"Discard",theme:"gray",variant:"subtle",onClick:o[0]||(o[0]=()=>{d.value.commands.clearContent(!0),a.$emit("clear")})}),i(a.$slots,"bottom-right")])])])]),_:3},16,["extensions","editor-class","content"])])}}}),O={class:"flex flex-wrap gap-2"},Q={class:"flex"},R={class:"text-base text-gray-700"},ae=k({__name:"TicketTextEditor",props:{content:{},placeholder:{},attachments:{},expand:{type:Boolean,default:!1}},emits:["update:content","update:attachments","update:expand"],setup(b,{expose:c}){const u=y(null),m=x(()=>u.value.editor),d=C();return c({editor:m}),(e,s)=>{const a=_("Button");return e.expand?(p(),$(t(K),{key:0,ref_key:"e",ref:u,"model-value":e.content,placeholder:e.placeholder,"onUpdate:modelValue":s[2]||(s[2]=o=>e.$emit("update:content",o)),onClear:s[3]||(s[3]=()=>e.$emit("update:attachments",[]))},{"bottom-top":n(()=>[l("div",O,[(p(!0),h(S,null,T(e.attachments,o=>(p(),$(t(U),{key:o.file_url,label:o.file_name},{suffix:n(()=>[r(t(v),{icon:"lucide:x",onClick:I(f=>e.$emit("update:attachments",e.attachments.filter(g=>g.file_url!==o.file_url)),["stop"])},null,8,["onClick"])]),_:2},1032,["label"]))),128))])]),"bottom-left":n(()=>[l("span",Q,[i(e.$slots,"bottom-left"),r(t(M),{"upload-args":{folder:"Home/Helpdesk",private:!0},onSuccess:s[0]||(s[0]=o=>e.$emit("update:attachments",[...e.attachments,o])),onFailure:s[1]||(s[1]=()=>t(L)({title:"Error Uploading File",icon:"x",iconClasses:"text-red-600"}))},{default:n(({openFileSelector:o})=>[r(a,{theme:"gray",variant:"ghost",onClick:f=>o()},{icon:n(()=>[r(t(v),{icon:"lucide:paperclip"})]),_:2},1032,["onClick"])]),_:1})])]),"top-right":n(()=>[i(e.$slots,"top-right")]),"top-bottom":n(()=>[i(e.$slots,"top-bottom")]),"bottom-right":n(()=>[i(e.$slots,"bottom-right")]),_:3},8,["model-value","placeholder"])):(p(),h("div",{key:1,class:"flex w-full cursor-pointer items-center gap-2 rounded bg-gray-100 px-3.5 py-2 hover:bg-gray-200",onClick:s[4]||(s[4]=()=>e.$emit("update:expand",!e.expand))},[r(t(B),{name:t(d).userName,image:t(d).userImage,size:"sm"},null,8,["name","image"]),l("span",R,N(e.placeholder),1)]))}}});export{ae as _};
//# sourceMappingURL=TicketTextEditor.vue_vue_type_script_setup_true_lang-618fc8ac.js.map
