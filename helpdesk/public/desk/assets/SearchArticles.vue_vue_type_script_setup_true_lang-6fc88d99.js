import{d as g,Z as y,ab as b,r as k,h as e,o as n,k as l,s as _,g as i,w as p,l as t,y as c,H as w,I as v,t as f,S as C,$ as V}from"./index-adf298f8.js";import{I as h}from"./useView-5b009477.js";const j={key:0,class:"rounded border p-4 text-base"},A={key:0,class:"mb-2 font-medium pl-2"},B={key:1,class:"mx-auto w-full flex flex-col gap-2"},L={class:"font-base"},N=["innerHTML"],S={key:1,class:"flex flex-col items-center justify-center h-[240px] gap-2 rounded border"},q={key:2,class:"flex flex-col items-center justify-center h-[240px] gap-2 rounded border"},E=g({__name:"SearchArticles",props:{query:{default:""},hideViewAll:{type:Boolean,default:!1}},setup(m){const s=y({url:"helpdesk.api.article.search",debounce:500,auto:!1});b(()=>m.query,a=>{a.length<3||(s.update({params:{query:a}}),s.reload())});function x(a){C("kb_customer_search_article_clicked",{data:{article:a.subject}})}return(a,r)=>{var u;const d=k("RouterLink");return!e(V.isEmpty)(e(s).data)&&a.query.length>2?(n(),l("div",j,[a.hideViewAll?c("",!0):(n(),l("div",A,[r[1]||(r[1]=_(" These articles may already cover what you are looking for ")),i(d,{class:"group cursor-pointer space-x-1 hover:text-gray-900",to:{name:"CustomerKnowledgeBase"},target:"_blank"},{default:p(()=>r[0]||(r[0]=[t("span",{class:"text-xs underline"},"(View All)",-1)])),_:1})])),e(s).data.length>0?(n(),l("dl",B,[(n(!0),l(w,null,v(e(s).data,o=>(n(),l("div",{key:o.id,class:"rounded-md border-2 p-2 border-hidden hover:bg-surface-gray-2"},[i(d,{class:"group cursor-pointer hover:text-gray-900 flex flex-col gap-1",to:{name:"ArticlePublic",params:{articleId:o.name.split("#")[0]},hash:`#${o.name.split("#")[1]}`},onClick:I=>x(o),target:"_blank"},{default:p(()=>[t("dt",L,f(o.subject)+" - "+f(o.headings),1),t("dd",{class:"font-base text-p-sm text-gray-600 line-clamp-1",innerHTML:o.description},null,8,N)]),_:2},1032,["to","onClick"])]))),128))])):c("",!0)])):!e(s).loading&&((u=e(s).data)==null?void 0:u.length)===0&&a.query.length>2?(n(),l("div",S,[i(e(h),{icon:"heroicons-outline:search",class:"h-8 w-8 text-gray-400"}),r[2]||(r[2]=t("div",{class:"flex items-center flex-col justify-center"},[t("p",{class:"font-base"},"No answers found"),t("span",{class:"font-base text-p-sm text-gray-600 text-center"},"Rephrase the question and try again with some keywords")],-1))])):e(s).loading?(n(),l("div",q,[i(e(h),{icon:"heroicons-outline:search",class:"h-8 w-8 text-gray-400"}),r[3]||(r[3]=t("div",{class:"flex items-center flex-col justify-center"},[t("p",{class:"font-base"},"Searching..."),t("span",{class:"font-base text-p-sm text-gray-600 text-center"},"Please wait while we search for the answers")],-1))])):c("",!0)}}});export{E as _};
//# sourceMappingURL=SearchArticles.vue_vue_type_script_setup_true_lang-6fc88d99.js.map
