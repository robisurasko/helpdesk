import{_ as y}from"./useView-6d572c4e.js";import{d as x,B as v,al as b,r as d,o as t,k as i,g as a,w as c,h as o,l as s,H as f,I as C,f as N,t as _,y as m,N as w}from"./index-6a3ac2ad.js";import{_ as B}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-fcb7360a.js";import{_ as L}from"./LayoutHeader-5106993c.js";import{u as M,L as R}from"./bell-da88454a.js";import{d as A}from"./dayjs-a716d1bc.js";import"./more-horizontal-14937468.js";import{_ as $}from"./UserAvatar.vue_vue_type_script_setup_true_lang-f82f7b0e.js";import"./knowledgeBase-77ec454d.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-b567f657.js";import"./Avatar.vue_vue_type_script_setup_true_lang-8ff52837.js";const I={key:0,class:"divide-y text-base"},S={class:"mb-2 leading-5"},V={class:"space-x-1 text-gray-700"},T={class:"font-medium text-gray-900"},j={key:0},z={key:1},D={key:2},E={class:"font-medium text-gray-900"},F={class:"flex items-center gap-2"},H={class:"text-sm text-gray-600"},O={key:0,class:"h-1.5 w-1.5 rounded-full bg-blue-400"},q={key:1,class:"flex flex-1 flex-col items-center gap-2"},oe=x({__name:"MobileNotifications",setup(G){const n=M(),u=v(null);b(u,()=>{n.visible&&n.toggle()},{ignore:["#notifications-btn"]});function p(r){switch(r.notification_type){case"Mention":return{name:"TicketAgent",params:{ticketId:r.reference_ticket},hash:"#"+r.reference_comment};case"Assignment":case"Reaction":return{name:"TicketAgent",params:{ticketId:r.reference_ticket}}}}return(r,l)=>{const k=y,g=d("Button"),h=d("RouterLink");return t(),i(f,null,[a(L,null,{"left-header":c(()=>[a(o(B),{items:[{label:"Notifications",route:{name:"Notifications"}}]})]),"right-header":c(()=>[a(o(w),{text:"Mark all as read"},{default:c(()=>[s("div",null,[a(g,{label:"Mark all as read",onClick:l[0]||(l[0]=()=>o(n).clear.submit())},{prefix:c(()=>[a(k,{class:"h-4 w-4"})]),_:1})])]),_:1})]),_:1}),o(n).data.length?(t(),i("div",I,[(t(!0),i(f,null,C(o(n).data,e=>(t(),N(h,{key:e.name,class:"flex cursor-pointer items-start gap-3.5 px-5 py-2.5 hover:bg-gray-100",to:p(e),onClick:()=>{o(n).read(e.reference_ticket)}},{default:c(()=>[a(o($),{name:e.user_from},null,8,["name"]),s("div",null,[s("div",S,[s("span",V,[s("span",T,_(e.user_from),1),e.notification_type==="Mention"?(t(),i("span",j,"mentioned you in ticket")):m("",!0),e.notification_type==="Assignment"?(t(),i("span",z,"assigned you a ticket")):m("",!0),e.notification_type==="Reaction"?(t(),i("span",D,"has reopened the ticket")):m("",!0),s("span",E,_(e.reference_ticket),1)])]),s("div",F,[s("div",H,_(o(A).tz(e.creation).fromNow()),1),e.read?m("",!0):(t(),i("div",O))])])]),_:2},1032,["to","onClick"]))),128))])):(t(),i("div",q,[a(o(R),{class:"h-20 w-20 text-gray-300"}),l[1]||(l[1]=s("div",{class:"text-lg font-medium text-gray-500"},_("No new notifications"),-1))]))],64)}}});export{oe as default};
//# sourceMappingURL=MobileNotifications-079c2af4.js.map
