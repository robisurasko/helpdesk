import{d as w,B as f,o as n,k as u,l as x,g as h,w as c,f as V,v as B,E as C,h as o,a2 as F,t as L,y as g,J as S}from"./index-04936222.js";import{m as T,b as D,d as I,e as $,f as N,g as E}from"./useView-0740861b.js";const z=["href"],A={key:0,class:"prose prose-sm max-w-none whitespace-pre-wrap"},J=["src"],W=w({__name:"AttachmentItem",props:{label:{},url:{default:null}},setup(b){const r=b,t=f(!1),a=T.getType(r.label)||"",i=a.startsWith("image/"),v=a==="application/pdf",_=a.includes("spreadsheet"),l=a==="text/plain",m=r.url&&(l||i),p=f("");function y(){return l?D:i?I:v?$:_?N:E}function k(){m&&(l&&fetch(r.url).then(e=>e.text().then(s=>p.value=s)),t.value=!t.value)}return(e,s)=>(n(),u("span",null,[x("a",{href:o(m)?null:e.url,target:"_blank"},[h(o(F),{label:e.label,theme:"gray",variant:"outline",onClick:s[0]||(s[0]=d=>k())},{prefix:c(()=>[(n(),V(B(y()),{class:"h-4 w-4"}))]),suffix:c(()=>[C(e.$slots,"suffix")]),_:3},8,["label"])],8,z),h(o(S),{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=d=>t.value=d),options:{title:e.label,size:"4xl"}},{"body-content":c(()=>[l?(n(),u("div",A,L(p.value),1)):g("",!0),o(i)?(n(),u("img",{key:1,src:e.url,class:"m-auto rounded border"},null,8,J)):g("",!0)]),_:1},8,["modelValue","options"])]))}});export{W as _};
//# sourceMappingURL=AttachmentItem.vue_vue_type_script_setup_true_lang-9f4d9f38.js.map
