{"version":3,"file":"KnowledgeBaseAgent-0c70cf44.js","sources":["../../../../desk/src/components/knowledge-base/CategoryModal.vue","../../../../desk/src/components/knowledge-base/MergeCategoryModal.vue","../../../../desk/src/pages/knowledge-base/KnowledgeBaseAgent.vue"],"sourcesContent":["<template>\n  <Dialog\n    v-model=\"showDialog\"\n    :options=\"{ title: dialogTitle, actions: getActionButton() }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col flex-1 gap-3\">\n        <textarea\n          class=\"text-base rounded py-1.5 px-2 border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full block\"\n          ref=\"titleRef\"\n          placeholder=\"Support Issues\"\n          v-model=\"newTitle\"\n          :rows=\"1\"\n          maxlength=\"50\"\n          autofocus\n          @input=\"(e: Event) => {\n            const target = e.target as HTMLTextAreaElement;\n            target.style.height = `${target.scrollHeight}px`;\n          }\"\n        />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { Dialog } from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport { watch } from \"vue\";\n\nconst props = defineProps({\n  title: {\n    type: String,\n    default: \"\",\n  },\n  edit: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits([\"update\", \"create\"]);\n\nconst showDialog = defineModel<boolean>();\nconst newTitle = defineModel<string>(\"title\");\n\nconst dialogTitle = computed(() =>\n  props.edit ? \"Edit Category\" : \"Create Category\"\n);\n\nconst titleRef = ref(null);\nwatch(\n  () => titleRef.value,\n  (newVal) => {\n    if (!newVal) return;\n    titleRef.value.style.height =\n      newVal.scrollHeight > newVal.clientHeight\n        ? newVal.scrollHeight + \"px\"\n        : newVal.scrollHeight + \"px\";\n  }\n);\n\nfunction getActionButton() {\n  const action = [];\n  if (props.edit) {\n    action.push({\n      label: \"Save\",\n      variant: \"solid\",\n      onClick: () => {\n        emit(\"update\");\n      },\n    });\n  } else {\n    action.push({\n      label: \"Create\",\n      variant: \"solid\",\n      onClick: () => {\n        emit(\"create\");\n      },\n    });\n  }\n  return action;\n}\n</script>\n","<template>\n  <Dialog\n    :options=\"{\n      title: 'Merge with another category',\n    }\"\n    @after-leave=\"\n      () => {\n        toCategory = null;\n      }\n    \"\n    v-model=\"showDialog\"\n  >\n    <template #body-content>\n      <p class=\"text-p-base text-ink-gray-8 mb-4\">\n        This will move all articles of the\n        <span class=\"whitespace-nowrap font-semibold\">{{ categoryTitle }}</span>\n        category to the selected category. This change is irreversible!\n      </p>\n      <Link\n        class=\"form-control\"\n        doctype=\"HD Article Category\"\n        placeholder=\"Select Category\"\n        v-model=\"toCategory\"\n        label=\"Category\"\n        :page-length=\"100\"\n      />\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        variant=\"solid\"\n        label=\"Merge\"\n        @click=\"emit('merge', categoryId, toCategory)\"\n      />\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Dialog } from \"frappe-ui\";\nimport { Link } from \"@/components\";\ndefineProps<{\n  categoryId: string;\n  categoryTitle: string;\n}>();\nconst emit = defineEmits([\"merge\"]);\nconst showDialog = defineModel<boolean>();\n\nconst toCategory = ref(\"\");\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <LayoutHeader>\n      <template #left-header>\n        <div class=\"text-lg font-medium text-gray-900\">Knowledge Base</div>\n      </template>\n      <template #right-header>\n        <Dropdown :options=\"headerOptions\">\n          <Button label=\"Add new\" variant=\"solid\">\n            <template #prefix>\n              <LucidePlus class=\"h-4 w-4\" />\n            </template>\n          </Button>\n        </Dropdown>\n      </template>\n    </LayoutHeader>\n    <ListViewBuilder\n      ref=\"listViewRef\"\n      :options=\"options\"\n      @row-click=\"(row) => $router.push(`kb/articles/${row}`)\"\n    />\n    <CategoryModal\n      :edit=\"editTitle\"\n      v-model=\"showCategoryModal\"\n      v-model:title=\"category.title\"\n      @update=\"handleCategoryUpdate\"\n      @create=\"handleCategoryCreate\"\n    />\n    <MoveToCategoryModal v-model=\"moveToModal\" @move=\"handleMoveToCategory\" />\n    <MergeCategoryModal\n      :categoryTitle=\"category.title\"\n      :category-id=\"category.id\"\n      v-model=\"mergeModal\"\n      @merge=\"handleMergeCategory\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { h, ref, reactive, computed, onMounted } from \"vue\";\nimport {\n  usePageMeta,\n  FeatherIcon,\n  Button,\n  Dropdown,\n  createResource,\n  Badge,\n} from \"frappe-ui\";\nimport { useRouter } from \"vue-router\";\nimport {\n  updateCategoryTitle,\n  deleteRes as deleteCategory,\n  newCategory,\n  moveToCategory,\n  deleteArticles,\n  mergeCategory,\n} from \"@/stores/knowledgeBase\";\nimport { globalStore } from \"@/stores/globalStore\";\nimport { capture } from \"@/telemetry\";\nimport LayoutHeader from \"@/components/LayoutHeader.vue\";\nimport ListViewBuilder from \"@/components/ListViewBuilder.vue\";\nimport CategoryModal from \"@/components/knowledge-base/CategoryModal.vue\";\nimport MoveToCategoryModal from \"@/components/knowledge-base/MoveToCategoryModal.vue\";\nimport { createToast, copyToClipboard } from \"@/utils\";\nimport { Error } from \"@/types\";\nimport LucideMerge from \"~icons/lucide/merge\";\nimport MergeCategoryModal from \"@/components/knowledge-base/MergeCategoryModal.vue\";\n\nconst router = useRouter();\nconst { $dialog } = globalStore();\n\nconst category = reactive({\n  title: \"\",\n  id: \"\",\n});\n\nconst _title = ref(\"\");\nconst listViewRef = ref(null);\nconst editTitle = ref(false);\n\n// modals state\nconst showCategoryModal = ref(false);\nconst moveToModal = ref(false);\nconst mergeModal = ref(false);\n\nconst generalCategory = createResource({\n  url: \"helpdesk.api.knowledge_base.get_general_category\",\n  auto: true,\n  cache: [\"GeneralCategory\"],\n});\n\nconst headerOptions = [\n  {\n    label: \"Category\",\n    icon: \"folder\",\n    onClick: () => {\n      resetState();\n      editTitle.value = false;\n      showCategoryModal.value = true;\n    },\n  },\n  {\n    label: \"Article\",\n    icon: \"file-text\",\n    onClick: () => {\n      router.push({\n        name: \"NewArticle\",\n        params: {\n          id: generalCategory.data,\n        },\n        query: {\n          title: \"General\",\n        },\n      });\n    },\n  },\n];\n\nconst groupByActions = [\n  {\n    label: \"Add New Article\",\n    icon: \"plus\",\n    onClick: (groupedRow) => {\n      router.push({\n        name: \"NewArticle\",\n        params: {\n          id: groupedRow.group.value,\n        },\n        query: {\n          title: groupedRow.group.label,\n        },\n      });\n    },\n  },\n  {\n    label: \"Edit Title\",\n    icon: \"edit\",\n    onClick: (groupedRow) => {\n      editTitle.value = true;\n      showCategoryModal.value = true;\n      category.title = groupedRow.group.label;\n      category.id = groupedRow.group.value;\n      _title.value = groupedRow.group.label;\n    },\n  },\n  {\n    label: \"Merge\",\n    icon: LucideMerge,\n    onClick: (groupedRow) => {\n      mergeModal.value = true;\n      category.title = groupedRow.group.label;\n      category.id = groupedRow.group.value;\n    },\n  },\n  {\n    label: \"Share\",\n    icon: \"link\",\n    onClick: async ({ group }) => {\n      const { label, value } = group;\n      const url = new URL(window.location.href);\n      url.pathname = `/helpdesk/kb-public/${value}`;\n      await copyToClipboard(url.href, label);\n    },\n  },\n  {\n    label: \"Delete\",\n    icon: \"trash-2\",\n    onClick: (groupedRow) => {\n      handleCategoryDelete(groupedRow);\n    },\n  },\n];\n\nconst listSelections = ref(new Set());\nconst selectBannerActions = [\n  {\n    label: \"Move To\",\n    icon: \"corner-up-right\",\n    onClick: (selections: Set<string>) => {\n      listSelections.value = new Set(selections);\n      moveToModal.value = true;\n    },\n  },\n  {\n    label: \"Delete\",\n    icon: \"trash-2\",\n    onClick: (selections: Set<string>) => {\n      listSelections.value = selections;\n      $dialog({\n        title: \"Delete articles?\",\n        message: `Are you sure you want to delete these articles?`,\n        actions: [\n          {\n            label: \"Confirm\",\n            variant: \"solid\",\n            onClick(close: Function) {\n              handleDeleteArticles();\n              close();\n            },\n          },\n        ],\n      });\n    },\n  },\n];\n\nfunction handleMoveToCategory(category: string) {\n  moveToCategory.submit(\n    {\n      category,\n      articles: Array.from(listSelections.value),\n    },\n    {\n      onSuccess: () => {\n        moveToModal.value = false;\n        listViewRef.value?.reload();\n        listViewRef.value?.unselectAll();\n        listSelections.value.clear();\n        createToast({\n          title: \"Articles moved successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n      },\n      onError: (error: Error) => {\n        createToast({\n          title: error?.messages?.[0] || error.message,\n          icon: \"x\",\n          iconClasses: \"text-red-600\",\n        });\n        moveToModal.value = false;\n      },\n    }\n  );\n}\n\nfunction handleCategoryCreate() {\n  newCategory.submit(\n    {\n      title: category.title,\n    },\n    {\n      onSuccess: (data: any) => {\n        listViewRef.value.reload();\n        showCategoryModal.value = false;\n        router.push({\n          name: \"Article\",\n          params: {\n            articleId: data.article,\n          },\n          query: {\n            category: data.category,\n            title: category.title,\n            isEdit: 1,\n          },\n        });\n        createToast({\n          title: \"Category Created Successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n        capture(\"category_created\", {\n          data: {\n            category: category.title,\n          },\n        });\n        resetState();\n      },\n      onError: (error: string) => {\n        createToast({\n          title: error,\n          icon: \"x\",\n          iconClasses: \"text-red-600\",\n        });\n      },\n    }\n  );\n}\n\nfunction handleCategoryUpdate() {\n  // if same title do nothing\n  if (category.title === _title.value) {\n    showCategoryModal.value = false;\n    editTitle.value = false;\n    return;\n  }\n  updateCategoryTitle.submit(\n    {\n      doctype: \"HD Article Category\",\n      name: category.id,\n      fieldname: \"category_name\",\n      value: category.title,\n    },\n    {\n      onSuccess: () => {\n        listViewRef.value.reload();\n        showCategoryModal.value = false;\n        editTitle.value = false;\n        createToast({\n          title: \"Category Updated Successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n\n        resetState();\n      },\n      onError: (error: string) => {\n        createToast({\n          title: error,\n          icon: \"x\",\n          iconClasses: \"text-red-600\",\n        });\n      },\n    }\n  );\n}\n\nfunction handleCategoryDelete(groupedRow) {\n  $dialog({\n    title: \"Delete category?\",\n    message: `All articles from this category will move to General category.`,\n    actions: [\n      {\n        label: \"Confirm\",\n        variant: \"solid\",\n        onClick(close: Function) {\n          deleteCategory.submit(\n            {\n              doctype: \"HD Article Category\",\n              name: groupedRow.group.value,\n            },\n            {\n              onSuccess: () => {\n                createToast({\n                  title: \"Category deleted successfully\",\n                  icon: \"check\",\n                  iconClasses: \"text-green-600\",\n                });\n                listViewRef.value.reload();\n              },\n            }\n          );\n          close();\n        },\n      },\n    ],\n  });\n}\n\nfunction handleDeleteArticles() {\n  deleteArticles.submit(\n    {\n      articles: Array.from(listSelections.value),\n    },\n    {\n      onSuccess: () => {\n        listViewRef.value?.reload();\n        listViewRef.value?.unselectAll();\n        listSelections.value?.clear();\n        createToast({\n          title: \"Articles deleted successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n      },\n    }\n  );\n}\n\nfunction handleMergeCategory(source: string, target: string) {\n  mergeCategory.submit(\n    {\n      source,\n      target,\n    },\n    {\n      onSuccess: () => {\n        listViewRef.value.reload();\n        createToast({\n          title: \"Category merged successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n        mergeModal.value = false;\n        resetState();\n      },\n      onError: (error: Error) => {\n        createToast({\n          title: error?.messages?.[0] || error.message,\n          icon: \"x\",\n          iconClasses: \"text-red-600\",\n        });\n      },\n    }\n  );\n}\n\nfunction resetState() {\n  category.title = \"\";\n  category.id = \"\";\n  _title.value = \"\";\n}\n\nconst options = computed(() => {\n  return {\n    doctype: \"HD Article\",\n    selectable: true,\n    view: {\n      view_type: \"group_by\",\n      group_by_field: \"category\",\n      label_doc: \"HD Article Category\",\n      label_field: \"category_name\",\n    },\n    columnConfig: {\n      title: {\n        prefix: () => {\n          return h(FeatherIcon, {\n            name: \"file-text\",\n            class: \"h-4 w-4 flex-shrink-0 text-ink-gray-6\",\n          });\n        },\n      },\n      status: {\n        custom: ({ item }) => {\n          return h(Badge, {\n            ...statusMap[item],\n          });\n        },\n      },\n    },\n    rowRoute: {\n      name: \"Article\",\n      prop: \"articleId\",\n    },\n    groupByActions,\n    showSelectBanner: true,\n    selectBannerActions,\n    default_page_length: 100,\n  };\n});\n\nconst statusMap = {\n  Published: {\n    label: \"Published\",\n    theme: \"green\",\n  },\n  Draft: {\n    label: \"Draft\",\n    theme: \"orange\",\n  },\n  Archived: {\n    label: \"Archived\",\n    theme: \"gray\",\n  },\n};\n\nonMounted(() => {\n  capture(\"kb_agent_page_viewed\");\n});\n\nusePageMeta(() => {\n  return {\n    title: \"Knowledge Base\",\n  };\n});\n</script>\n"],"names":["props","__props","emit","__emit","showDialog","_useModel","newTitle","dialogTitle","computed","titleRef","ref","watch","newVal","getActionButton","action","toCategory","router","useRouter","$dialog","globalStore","category","reactive","_title","listViewRef","editTitle","showCategoryModal","moveToModal","mergeModal","generalCategory","createResource","headerOptions","resetState","groupByActions","groupedRow","LucideMerge","group","label","value","url","copyToClipboard","handleCategoryDelete","listSelections","selectBannerActions","selections","close","handleDeleteArticles","handleMoveToCategory","moveToCategory","_a","_b","createToast","error","handleCategoryCreate","newCategory","data","capture","handleCategoryUpdate","updateCategoryTitle","deleteCategory","deleteArticles","_c","handleMergeCategory","source","target","mergeCategory","options","h","FeatherIcon","item","Badge","statusMap","onMounted","usePageMeta"],"mappings":"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"}