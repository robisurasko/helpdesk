{"version":3,"file":"Article-b87a8155.js","sources":["../../../../desk/src/components/icons/ThumbsUpIcon.vue","../../../../desk/src/components/icons/ThumbsUpFilledIcon.vue","../../../../desk/src/components/icons/ThumbsDownIcon.vue","../../../../desk/src/components/icons/ThumbsDownFilledIcon.vue","../../../../desk/src/components/DiscardButton.vue","../../../../desk/src/components/knowledge-base/ArticleFeedback.vue","../../../../desk/src/pages/knowledge-base/Article.vue"],"sourcesContent":["<template>\n  <svg\n    width=\"14\"\n    height=\"16\"\n    viewBox=\"0 0 14 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M7.80415 5.40817C7.80415 5.96045 8.25186 6.40817 8.80415 6.40817H11.7187C12.4291 6.40817 12.913 7.12817 12.6446 7.78594L10.3117 13.5038C10.1581 13.88 9.79215 14.126 9.38576 14.126H4.38554C3.83325 14.126 3.38554 13.6783 3.38554 13.126V7.60611L6.50396 1.87319H6.80415C7.35643 1.87319 7.80415 2.3209 7.80415 2.87319V5.40817ZM11.7187 5.40817H9.80415H8.80415V4.40817V2.87319C8.80415 1.76862 7.90872 0.873189 6.80415 0.873189H6.50396C6.1376 0.873189 5.80057 1.07353 5.62551 1.39536L2.50709 7.12827C2.42732 7.27491 2.38554 7.43918 2.38554 7.60611V13.126C2.38554 14.2305 3.28097 15.126 4.38554 15.126H9.38576C10.1985 15.126 10.9305 14.6341 11.2376 13.8815L13.5705 8.16372C14.1072 6.84818 13.1395 5.40817 11.7187 5.40817ZM0.27847 14.492C0.27847 14.7681 0.502328 14.992 0.77847 14.992C1.05461 14.992 1.27847 14.7681 1.27847 14.492V8.00712C1.27847 7.73098 1.05461 7.50712 0.77847 7.50712C0.502328 7.50712 0.27847 7.73098 0.27847 8.00712V14.492Z\"\n      fill=\"#171717\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M10.3862 15.126C11.199 15.126 11.931 14.6341 12.238 13.8815L14.571 8.16372C15.1077 6.84818 14.14 5.40817 12.7192 5.40817H9.80463V2.87319C9.80463 1.76862 8.9092 0.873189 7.80463 0.873189H7.50445C7.13809 0.873189 6.80106 1.07353 6.626 1.39536L5.14803 4.11246L3.50758 7.12827C3.42781 7.27491 3.38603 7.43918 3.38603 7.60611V13.126C3.38603 14.2305 4.28146 15.126 5.38603 15.126H10.3862ZM1.27896 14.492C1.27896 14.7681 1.50282 14.992 1.77896 14.992C2.0551 14.992 2.27896 14.7681 2.27896 14.492V8.00712C2.27896 7.73098 2.0551 7.50712 1.77896 7.50712C1.50282 7.50712 1.27896 7.73098 1.27896 8.00712V14.492Z\"\n      fill=\"#171717\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <rect width=\"16\" height=\"16\" fill=\"#FAFAFA\" />\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M7.19585 10.5913C7.19585 10.0391 6.74814 9.59135 6.19585 9.59135H3.28132C2.57091 9.59135 2.08705 8.87134 2.35542 8.21357L4.68834 2.49576C4.84187 2.11948 5.20785 1.87354 5.61424 1.87354H10.6145C11.1667 1.87354 11.6145 2.32125 11.6145 2.87354V8.3934L8.49604 14.1263H8.19585C7.64357 14.1263 7.19585 13.6786 7.19585 13.1263V10.5913ZM3.28132 10.5913H5.19585H6.19585V11.5913V13.1263C6.19585 14.2309 7.09128 15.1263 8.19585 15.1263H8.49604C8.8624 15.1263 9.19943 14.926 9.37449 14.6042L12.4929 8.87124C12.5727 8.7246 12.6145 8.56033 12.6145 8.3934V2.87354C12.6145 1.76897 11.719 0.873535 10.6145 0.873535H5.61424C4.80145 0.873535 4.0695 1.36543 3.76244 2.11799L1.42953 7.8358C0.892777 9.15133 1.8605 10.5913 3.28132 10.5913ZM14.7215 1.50752C14.7215 1.23138 14.4977 1.00752 14.2215 1.00752C13.9454 1.00752 13.7215 1.23138 13.7215 1.50752V7.99239C13.7215 8.26853 13.9454 8.49239 14.2215 8.49239C14.4977 8.49239 14.7215 8.26853 14.7215 7.99239V1.50752Z\"\n      fill=\"#171717\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.61375 0.873535C4.80096 0.873535 4.06901 1.36543 3.76196 2.11799L1.42904 7.8358C0.892289 9.15133 1.86001 10.5913 3.28083 10.5913H6.19537V13.1263C6.19537 14.2309 7.0908 15.1263 8.19537 15.1263H8.49555C8.86191 15.1263 9.19894 14.926 9.374 14.6042L12.4924 8.87124C12.5722 8.7246 12.614 8.56033 12.614 8.3934V2.87354C12.614 1.76897 11.7185 0.873535 10.614 0.873535H5.61375ZM14.721 1.50752C14.721 1.23138 14.4972 1.00752 14.221 1.00752C13.9449 1.00752 13.721 1.23138 13.721 1.50752V7.99239C13.721 8.26853 13.9449 8.49239 14.221 8.49239C14.4972 8.49239 14.721 8.26853 14.721 7.99239V1.50752Z\"\n      fill=\"#171717\"\n    />\n  </svg>\n</template>\n","<template>\n  <Button :label=\"label\" @click=\"handleDiscard\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { globalStore } from \"@/stores/globalStore\";\nconst { $dialog } = globalStore();\nconst emit = defineEmits<{\n  (event: \"discard\"): void;\n}>();\n\nconst {\n  label = \"Discard\",\n  hideDialog = false,\n  title = \"Discard?\",\n  message = \"Are you sure you want to discard this?\",\n} = defineProps<{\n  label?: string;\n  hideDialog?: boolean;\n  title?: string;\n  message?: string;\n}>();\n\nfunction handleDiscard() {\n  if (hideDialog) {\n    emit(\"discard\");\n    return;\n  }\n  $dialog({\n    title: title,\n    message: message,\n    onConfirm: ({ hideDialog }: { hideDialog: Function }) => {\n      hideDialog();\n    },\n    actions: [\n      {\n        label: \"Confirm\",\n        variant: \"solid\",\n        onClick(close: Function) {\n          emit(\"discard\");\n          close();\n        },\n      },\n    ],\n  });\n}\n</script>\n","<template>\n  <div class=\"flex items-center justify-between mb-8 p-4 rounded-lg bg-gray-50\">\n    <!-- Feedback Section -->\n    <div>\n      <!-- was this article helpful? -->\n      <div class=\"flex items-center gap-2\">\n        <span class=\"text-gray-800 text-sm\"\n          >Did this article solve your issue?</span\n        >\n        <div class=\"flex items-center gap-1\">\n          <component\n            :is=\"_feedback === 1 ? ThumbsUpFilledIcon : ThumbsUpIcon\"\n            class=\"w-4 h-4 cursor-pointer\"\n            @click=\"handleFeedbackClick(1)\"\n          />\n          <component\n            :is=\"_feedback === 2 ? ThumbsDownFilledIcon : ThumbsDownIcon\"\n            class=\"w-4 h-4 cursor-pointer\"\n            @click=\"handleFeedbackClick(2)\"\n          />\n        </div>\n      </div>\n    </div>\n    <!-- Create a ticket CTA -->\n    <div class=\"flex items-center justify-center gap-2\">\n      <span class=\"font-normal text-sm\">\n        Can’t find what you’re looking for?\n      </span>\n      <router-link :to=\"{ name: 'TicketNew' }\">\n        <p class=\"underline font-base text-sm\">Create a ticket &rightarrow;</p>\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FeedbackAction } from \"@/types\";\nimport {\n  ThumbsUpIcon,\n  ThumbsUpFilledIcon,\n  ThumbsDownIcon,\n  ThumbsDownFilledIcon,\n} from \"@/components/icons\";\nimport { setFeedback } from \"@/stores/knowledgeBase\";\nimport { ref } from \"vue\";\n\ninterface P {\n  feedback: FeedbackAction;\n  articleId: string;\n}\n\nconst props = withDefaults(defineProps<P>(), {\n  feedback: 0,\n});\n\nconst _feedback = ref(props.feedback);\n\nfunction handleFeedbackClick(action: FeedbackAction) {\n  _feedback.value = action;\n  if (action === props.feedback) return;\n  setFeedback.submit({ articleId: props.articleId, action });\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div>\n    <LayoutHeader>\n      <template #left-header>\n        <div class=\"flex gap-1 items-center crumbs truncate\">\n          <Breadcrumbs :items=\"breadcrumbs\" class=\"-ml-0.5\" />\n        </div>\n      </template>\n      <template #right-header v-if=\"!isCustomerPortal\">\n        <!-- Default Buttons -->\n        <div class=\"flex gap-2\" v-if=\"!editable\">\n          <Button\n            :label=\"article.data?.status === 'Draft' ? 'Publish' : 'Unpublish'\"\n            :iconLeft=\"article.data?.status !== 'Published' && 'globe'\"\n            @click=\"toggleStatus()\"\n          />\n        </div>\n      </template>\n    </LayoutHeader>\n\n    <div\n      class=\"py-4 mx-auto w-full max-w-3xl px-5 flex flex-col\"\n      v-if=\"!article.loading\"\n    >\n      <!-- article Info -->\n      <div\n        class=\"flex flex-col gap-3 p-4 w-full\"\n        :class=\"editable && 'border rounded-lg overflow-hidden'\"\n      >\n        <!-- Top Element -->\n        <div class=\"flex flex-col gap-3\">\n          <div class=\"flex gap-1 items-center justify-between\">\n            <div class=\"flex gap-1 items-center\">\n              <!-- Avatar -->\n              <div class=\"flex gap-1 items-center justify-center\">\n                <Avatar\n                  :image=\"article.data.author.image\"\n                  :label=\"article.data.author.name\"\n                />\n                <span\n                  class=\"truncate capitalize text-base text-ink-gray-9 font-medium\"\n                >\n                  {{ article.data.author.name }}\n                </span>\n              </div>\n              <IconDot class=\"h-4 w-4 text-gray-600\" />\n              <div class=\"text-xs text-gray-500\">\n                {{ dayjs(article.data.modified).short() }}\n              </div>\n            </div>\n            <Dropdown\n              :options=\"articleActions\"\n              v-if=\"!editable && !isCustomerPortal\"\n            >\n              <Button variant=\"ghost\">\n                <template #icon>\n                  <IconMoreHorizontal class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </Dropdown>\n            <div class=\"flex gap-2\" v-if=\"editable\">\n              <DiscardButton\n                :hide-dialog=\"!isDirty\"\n                title=\"Discard changes?\"\n                message=\"Are you sure you want to discard changes?\"\n                @discard=\"handleDiscard\"\n              />\n\n              <Button label=\"Save\" @click=\"handleSave\" variant=\"solid\" />\n            </div>\n          </div>\n          <!-- Title -->\n          <textarea\n            ref=\"titleRef\"\n            class=\"w-full resize-none border-0 text-3xl font-bold placeholder-ink-gray-3 p-0 pb-3 border-b border-gray-200 focus:ring-0 focus:border-gray-200 overflow-hidden\"\n            v-model=\"title\"\n            placeholder=\"Title\"\n            rows=\"1\"\n            wrap=\"soft\"\n            maxlength=\"140\"\n            autofocus\n            :disabled=\"!editable\"\n          />\n        </div>\n        <!-- Article Content -->\n        <TextEditor\n          ref=\"editorRef\"\n          :editor-class=\"editorClass\"\n          :content=\"textEditorContentWithIDs\"\n          :extensions=\"[PreserveIds]\"\n          :editable=\"editable\"\n          @change=\"(event:string) => {\n\t\t\t      content = event;\n\t\t      }\"\n          placeholder=\"Write your article here...\"\n        >\n          <template #bottom v-if=\"editable\">\n            <TextEditorFixedMenu\n              class=\"-ml-1 overflow-x-auto w-full\"\n              :buttons=\"textEditorMenuButtons\"\n            />\n          </template>\n        </TextEditor>\n      </div>\n      <div class=\"p-4\" v-if=\"isCustomerPortal\">\n        <ArticleFeedback :feedback=\"feedback\" :article-id=\"articleId\" />\n      </div>\n    </div>\n    <MoveToCategoryModal v-model=\"moveToModal\" @move=\"handleMoveToCategory\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, h, watch, onMounted } from \"vue\";\nimport {\n  Breadcrumbs,\n  debounce,\n  createResource,\n  Avatar,\n  TextEditor,\n  TextEditorFixedMenu,\n  Dropdown,\n  Button,\n} from \"frappe-ui\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { dayjs } from \"@/dayjs\";\nimport {\n  updateRes as updateArticle,\n  deleteRes as deleteArticle,\n  moveToCategory,\n  incrementView,\n} from \"@/stores/knowledgeBase\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { globalStore } from \"@/stores/globalStore\";\nimport LayoutHeader from \"@/components/LayoutHeader.vue\";\nimport MoveToCategoryModal from \"@/components/knowledge-base/MoveToCategoryModal.vue\";\nimport DiscardButton from \"@/components/DiscardButton.vue\";\nimport ArticleFeedback from \"@/components/knowledge-base/ArticleFeedback.vue\";\nimport { Resource, Article, FeedbackAction, Error, Breadcrumb } from \"@/types\";\nimport {\n  createToast,\n  textEditorMenuButtons,\n  copyToClipboard,\n  isCustomerPortal,\n} from \"@/utils\";\nimport { capture } from \"@/telemetry\";\nimport { PreserveIds } from \"@/tiptap-extensions\";\nimport IconMoreHorizontal from \"~icons/lucide/more-horizontal\";\nimport IconDot from \"~icons/lucide/dot\";\nconst props = defineProps({\n  articleId: {\n    type: String,\n    required: true,\n  },\n});\n\nconst { $dialog } = globalStore();\n\nconst router = useRouter();\nconst route = useRoute();\nconst authStore = useAuthStore();\n\nconst editorRef = ref(null);\nconst editable = ref(route.query.isEdit ?? false);\n\nconst content = ref(\"\");\nconst title = ref(\"\");\nconst feedback = ref<FeedbackAction>();\n\nconst titleRef = ref(null);\nwatch(\n  () => titleRef.value,\n  (newVal) => {\n    if (!newVal) return;\n\n    if (newVal.scrollHeight > newVal.clientHeight) {\n      newVal.style.height = newVal.scrollHeight + \"px\";\n    }\n  }\n);\n\nconst article: Resource<Article> = createResource({\n  url: \"helpdesk.api.knowledge_base.get_article\",\n  params: {\n    name: props.articleId,\n  },\n  auto: true,\n  onSuccess: (data: Article) => {\n    content.value = data.content;\n    title.value = data.title;\n    feedback.value = data.feedback;\n    if (isCustomerPortal.value) {\n      capture(\"article_viewed\", {\n        data: {\n          user: authStore.userId,\n          article: data.name,\n          title: data.title,\n        },\n      });\n      incrementArticleViews(data.name);\n    }\n  },\n  onError: (err: Error) => {\n    if (err.exc_type === \"PermissionError\") {\n      router.replace({\n        name: \"CustomerKnowledgeBase\",\n      });\n    }\n  },\n});\n\nfunction incrementArticleViews(articleId: string) {\n  incrementView.submit(\n    {\n      article: articleId,\n    },\n    {\n      onError: (err: Error) => {\n        if (err.exc_type === \"RateLimitExceededError\") {\n          return;\n        }\n      },\n    }\n  );\n}\n\nconst toggleStatus = debounce(() => {\n  const status = article.data?.status === \"Published\" ? \"Draft\" : \"Published\";\n  updateArticle.submit(\n    {\n      doctype: \"HD Article\",\n      name: article.data.name,\n      fieldname: \"status\",\n      value: status,\n    },\n    {\n      onSuccess: () => {\n        article.reload();\n      },\n    }\n  );\n}, 300);\nconst isDirty = ref(false);\n\nconst moveToModal = ref(false);\n\nfunction handleMoveToCategory(category: string) {\n  moveToCategory.submit(\n    {\n      category,\n      articles: [props.articleId],\n    },\n    {\n      onSuccess: () => {\n        article.reload();\n        moveToModal.value = false;\n        createToast({\n          title: \"Articles moved successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n      },\n      onError: (error: Error) => {\n        createToast({\n          title: error?.messages?.[0] || error.message,\n          icon: \"x\",\n          iconClasses: \"text-red-600\",\n        });\n        moveToModal.value = false;\n      },\n    }\n  );\n}\n\nfunction handleEditMode() {\n  editable.value = true;\n  editorRef.value.editor.chain().focus(\"start\");\n}\n\nfunction handleDiscard() {\n  editable.value = false;\n  isDirty.value = false;\n  title.value = article.data.title;\n  content.value = article.data.content;\n}\n\nfunction handleSave() {\n  editable.value = false;\n  handleArticleUpdate();\n}\n\nfunction handleArticleUpdate() {\n  if (!isDirty.value) return;\n  updateArticle.submit(\n    {\n      doctype: \"HD Article\",\n      name: article.data.name,\n      fieldname: {\n        content: content.value,\n        title: title.value,\n      },\n    },\n    {\n      onSuccess: () => {\n        capture(\"article_updated\", {\n          data: {\n            category: props.articleId,\n          },\n        });\n        createToast({\n          title: \"Article updated successfully\",\n          icon: \"check\",\n          iconClasses: \"text-green-600\",\n        });\n        isDirty.value = false;\n        article.reload();\n      },\n    }\n  );\n}\n\nfunction handleDelete() {\n  $dialog({\n    title: \"Delete Article\",\n    message: \"Are you sure you want to delete this article?\",\n    actions: [\n      {\n        label: \"Confirm\",\n        variant: \"solid\",\n        onClick(close: Function) {\n          deleteArticle.submit(\n            {\n              doctype: \"HD Article\",\n              name: article.data.name,\n            },\n            {\n              onSuccess: () => {\n                createToast({\n                  title: \"Article deleted successfully\",\n                  icon: \"check\",\n                  iconClasses: \"text-green-600\",\n                });\n                router.push({\n                  name: \"AgentKnowledgeBase\",\n                });\n              },\n            }\n          );\n          close();\n        },\n      },\n    ],\n  });\n}\n\nconst textEditorContentWithIDs = computed(() =>\n  article.data?.content ? addLinksToHeadings(article.data?.content) : null\n);\n\nfunction addLinksToHeadings(content: string) {\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(content, \"text/html\");\n  const headings = doc.querySelectorAll(\"h2, h3, h4, h5, h6\");\n  headings.forEach((heading) => {\n    const text = heading.textContent.trim();\n    const id = text.replace(/[^a-z0-9]+/gi, \"-\").toLowerCase();\n    heading.setAttribute(\"id\", id);\n  });\n  return doc.body.innerHTML;\n}\nfunction scrollToHeading() {\n  const articleHeading = window.location.hash;\n  if (!articleHeading) return;\n  const headingElement = document.querySelector(articleHeading) as HTMLElement;\n  if (!headingElement) return;\n  headingElement.scrollIntoView({ behavior: \"smooth\" });\n  headingElement.classList.add(\"transition-all\");\n  const fontSize = headingElement.style.fontSize;\n  setTimeout(() => {\n    headingElement.style.fontSize = \"1.5rem\";\n    setTimeout(() => {\n      headingElement.style.fontSize = fontSize;\n    }, 500);\n  }, 500);\n}\n\nwatch([() => content.value, () => title.value], ([newContent, newTitle]) => {\n  isDirty.value =\n    newContent !== article.data.content || newTitle !== article.data.title;\n});\n\nconst editorClass = computed(() => {\n  return [\n    \"rounded-b-lg max-w-[unset] prose-sm\",\n    editable.value &&\n      \"overflow-auto h-[calc(100vh-340px)] sm:h-[calc(100vh-250px)]\",\n  ];\n});\n\nconst articleActions = computed(() => [\n  {\n    label: \"Edit\",\n    icon: \"edit\",\n    onClick: () => {\n      handleEditMode();\n    },\n  },\n  {\n    label: \"Move To\",\n    icon: \"corner-up-right\",\n    onClick: () => (moveToModal.value = true),\n  },\n  {\n    label: \"Share\",\n    icon: \"link\",\n    onClick: () => {\n      const url = new URL(window.location.href);\n      url.pathname = `/helpdesk/kb-public/articles/${props.articleId}`;\n      copyToClipboard(url.href, article.data.title);\n    },\n  },\n  {\n    group: \"Danger\",\n    hideLabel: true,\n    items: [\n      {\n        label: \"Delete\",\n        component: h(Button, {\n          label: \"Delete\",\n          variant: \"ghost\",\n          iconLeft: \"trash-2\",\n          theme: \"red\",\n          style: \"width: 100%; justify-content: flex-start;\",\n          onClick: handleDelete,\n        }),\n      },\n    ],\n  },\n]);\n\nconst breadcrumbs = computed(() => {\n  const items: Breadcrumb[] = [\n    {\n      label: \"Knowledge Base\",\n      route: {\n        name: isCustomerPortal.value\n          ? \"CustomerKnowledgeBase\"\n          : \"AgentKnowledgeBase\",\n      },\n    },\n  ];\n  if (article.data?.category_name) {\n    let item = {\n      label: article.data?.category_name,\n    };\n    if (isCustomerPortal.value) {\n      item[\"route\"] = {\n        name: \"Articles\",\n        params: {\n          categoryId: article.data?.category_id,\n        },\n      };\n    } else {\n      item[\"route\"] = {\n        name: \"AgentKnowledgeBase\",\n      };\n    }\n    items.push(item);\n  }\n  if (article.data?.title) {\n    items.push({\n      label: article.data?.title,\n      route: { name: \"Article\" },\n    });\n  }\n  return items;\n});\n\nonMounted(() => {\n  setTimeout(() => {\n    scrollToHeading();\n  }, 100);\n});\n</script>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","$dialog","globalStore","emit","__emit","handleDiscard","__props","hideDialog","close","props","_feedback","ref","handleFeedbackClick","action","setFeedback","router","useRouter","route","useRoute","authStore","useAuthStore","editorRef","editable","content","title","feedback","titleRef","watch","newVal","article","createResource","data","isCustomerPortal","capture","incrementArticleViews","err","articleId","incrementView","toggleStatus","debounce","status","_a","updateArticle","isDirty","moveToModal","handleMoveToCategory","category","moveToCategory","createToast","error","handleEditMode","handleSave","handleArticleUpdate","handleDelete","deleteArticle","textEditorContentWithIDs","computed","addLinksToHeadings","_b","doc","heading","id","scrollToHeading","articleHeading","headingElement","fontSize","newContent","newTitle","editorClass","articleActions","url","copyToClipboard","h","Button","breadcrumbs","items","item","_c","_d","_e","onMounted"],"mappings":"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"}