{"version":3,"file":"error-df2ee9a0.js","sources":["../../../../desk/src/composables/error.ts"],"sourcesContent":["import { createToast } from \"@/utils\";\n\ninterface Options {\n  title?: string;\n  icon?: string;\n  iconClass?: string;\n}\n\ninterface Error {\n  message?: string;\n  messages?: string[];\n}\n\nexport function useError(o?: Options) {\n  function getMessage(e: Error) {\n    if (e.messages) return e.messages.join(\", \");\n    else if (e.message) return e.message;\n    else return \"\";\n  }\n\n  function getTitle(e: Error) {\n    if (o?.title) return o?.title;\n    return getMessage(e);\n  }\n\n  return function (e: Error) {\n    createToast({\n      title: getTitle(e),\n      message: o?.title ? undefined : getMessage(e),\n      icon: o?.icon ?? \"x\",\n      iconClasses: o?.iconClass ?? \"text-red-500\",\n    });\n  };\n}\n"],"names":["useError","o","getMessage","e","getTitle","createToast"],"mappings":"wCAaO,SAASA,EAASC,EAAa,CACpC,SAASC,EAAWC,EAAU,CAC5B,OAAIA,EAAE,SAAiBA,EAAE,SAAS,KAAK,IAAI,EAClCA,EAAE,QAAgBA,EAAE,QACjB,EACd,CAEA,SAASC,EAASD,EAAU,CAC1B,OAAIF,GAAA,MAAAA,EAAG,MAAcA,GAAA,YAAAA,EAAG,MACjBC,EAAWC,CAAC,CACrB,CAEA,OAAO,SAAUA,EAAU,CACbE,EAAA,CACV,MAAOD,EAASD,CAAC,EACjB,QAASF,GAAA,MAAAA,EAAG,MAAQ,OAAYC,EAAWC,CAAC,EAC5C,MAAMF,GAAA,YAAAA,EAAG,OAAQ,IACjB,aAAaA,GAAA,YAAAA,EAAG,YAAa,cAAA,CAC9B,CAAA,CAEL"}