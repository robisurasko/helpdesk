import{B as I,O as Q,at as W,au as b,d as C,bc as Y,e as S,bd as ee,be as te,a8 as ae,b7 as ne,az as le,b8 as F,av as A,ax as _,bl as re,bg as oe,ay as B,a6 as ue,aG as D,dw as se,a4 as ie,dx as ce,dy as k,aA as y,dz as de,aF as L,dA as J,as as pe,b as ve,o as x,f as M,w,g as E,P as fe,h as R,E as me,F as be,aa as N,a2 as ge,s as ye,t as O,x as V,k as P,H as j,I as K,y as z,v as H,W as he,l as Ie}from"./index-7cfac70d.js";function U(a,s){if(a)return a;let r=s??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function ke(a,s){let r=I(U(a.value.type,a.value.as));return Q(()=>{r.value=U(a.value.type,a.value.as)}),W(()=>{var c;r.value||b(s)&&b(s)instanceof HTMLButtonElement&&!((c=b(s))!=null&&c.hasAttribute("type"))&&(r.value="button")}),r}let q=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function G(a){var s,r;let c=(s=a.innerText)!=null?s:"",p=a.cloneNode(!0);if(!(p instanceof HTMLElement))return c;let d=!1;for(let v of p.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))v.remove(),d=!0;let e=d?(r=p.innerText)!=null?r:"":c;return q.test(e)&&(e=e.replace(q,"")),e}function xe(a){let s=a.getAttribute("aria-label");if(typeof s=="string")return s.trim();let r=a.getAttribute("aria-labelledby");if(r){let c=r.split(" ").map(p=>{let d=document.getElementById(p);if(d){let e=d.getAttribute("aria-label");return typeof e=="string"?e.trim():G(d).trim()}return null}).filter(Boolean);if(c.length>0)return c.join(", ")}return G(a).trim()}function Se(a){let s=I(""),r=I("");return()=>{let c=b(a);if(!c)return"";let p=c.innerText;if(s.value===p)return r.value;let d=xe(c).trim().toLowerCase();return s.value=p,r.value=d,d}}var we=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(we||{}),Me=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Me||{});function De(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let Z=Symbol("MenuContext");function $(a){let s=ie(Z,null);if(s===null){let r=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$),r}return s}let Re=C({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:s,attrs:r}){let c=I(1),p=I(null),d=I(null),e=I([]),v=I(""),n=I(null),i=I(1);function g(t=o=>o){let o=n.value!==null?e.value[n.value]:null,u=pe(t(e.value.slice()),h=>b(h.dataRef.domRef)),f=o?u.indexOf(o):null;return f===-1&&(f=null),{items:u,activeItemIndex:f}}let l={menuState:c,buttonRef:p,itemsRef:d,items:e,searchQuery:v,activeItemIndex:n,activationTrigger:i,closeMenu:()=>{c.value=1,n.value=null},openMenu:()=>c.value=0,goToItem(t,o,u){let f=g(),h=ce(t===k.Specific?{focus:k.Specific,id:o}:{focus:t},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});v.value="",n.value=h,i.value=u??1,e.value=f.items},search(t){let o=v.value!==""?0:1;v.value+=t.toLowerCase();let u=(n.value!==null?e.value.slice(n.value+o).concat(e.value.slice(0,n.value+o)):e.value).find(h=>h.dataRef.textValue.startsWith(v.value)&&!h.dataRef.disabled),f=u?e.value.indexOf(u):-1;f===-1||f===n.value||(n.value=f,i.value=1)},clearSearch(){v.value=""},registerItem(t,o){let u=g(f=>[...f,{id:t,dataRef:o}]);e.value=u.items,n.value=u.activeItemIndex,i.value=1},unregisterItem(t){let o=g(u=>{let f=u.findIndex(h=>h.id===t);return f!==-1&&u.splice(f,1),u});e.value=o.items,n.value=o.activeItemIndex,i.value=1}};return Y([p,d],(t,o)=>{var u;l.closeMenu(),ee(o,te.Loose)||(t.preventDefault(),(u=b(p))==null||u.focus())},S(()=>c.value===0)),ae(Z,l),ne(S(()=>le(c.value,{0:F.Open,1:F.Closed}))),()=>{let t={open:c.value===0,close:l.closeMenu};return A({ourProps:{},theirProps:a,slot:t,slots:s,attrs:r,name:"Menu"})}}}),Pe=C({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:s,slots:r,expose:c}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-button-${_()}`,e=$("MenuButton");c({el:e.buttonRef,$el:e.buttonRef});function v(l){switch(l.key){case y.Space:case y.Enter:case y.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),D(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(k.First)});break;case y.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),D(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(k.Last)});break}}function n(l){switch(l.key){case y.Space:l.preventDefault();break}}function i(l){a.disabled||(e.menuState.value===0?(e.closeMenu(),D(()=>{var t;return(t=b(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),De(()=>{var t;return(t=b(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=ke(S(()=>({as:a.as,type:s.type})),e.buttonRef);return()=>{var l;let t={open:e.menuState.value===0},{...o}=a,u={ref:e.buttonRef,id:d,type:g.value,"aria-haspopup":"menu","aria-controls":(l=b(e.itemsRef))==null?void 0:l.id,"aria-expanded":e.menuState.value===0,onKeydown:v,onKeyup:n,onClick:i};return A({ourProps:u,theirProps:o,slot:t,attrs:s,slots:r,name:"MenuButton"})}}}),Ce=C({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:s,slots:r,expose:c}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-items-${_()}`,e=$("MenuItems"),v=I(null);c({el:e.itemsRef,$el:e.itemsRef}),re({container:S(()=>b(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function n(t){var o;switch(v.value&&clearTimeout(v.value),t.key){case y.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case y.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let u=e.items.value[e.activeItemIndex.value];(o=b(u.dataRef.domRef))==null||o.click()}e.closeMenu(),J(b(e.buttonRef));break;case y.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(k.Next);case y.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(k.Previous);case y.Home:case y.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(k.First);case y.End:case y.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(k.Last);case y.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),D(()=>{var u;return(u=b(e.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case y.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),D(()=>de(b(e.buttonRef),t.shiftKey?L.Previous:L.Next));break;default:t.key.length===1&&(e.search(t.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}function i(t){switch(t.key){case y.Space:t.preventDefault();break}}let g=oe(),l=S(()=>g!==null?(g.value&F.Open)===F.Open:e.menuState.value===0);return()=>{var t,o;let u={open:e.menuState.value===0},{...f}=a,h={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(o=b(e.buttonRef))==null?void 0:o.id,id:d,onKeydown:n,onKeyup:i,role:"menu",tabIndex:0,ref:e.itemsRef};return A({ourProps:h,theirProps:f,slot:u,attrs:s,slots:r,features:B.RenderStrategy|B.Static,visible:l.value,name:"MenuItems"})}}}),Te=C({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:s,attrs:r,expose:c}){var p;let d=(p=a.id)!=null?p:`headlessui-menu-item-${_()}`,e=$("MenuItem"),v=I(null);c({el:v,$el:v});let n=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===d:!1),i=Se(v),g=S(()=>({disabled:a.disabled,get textValue(){return i()},domRef:v}));Q(()=>e.registerItem(d,g)),ue(()=>e.unregisterItem(d)),W(()=>{e.menuState.value===0&&n.value&&e.activationTrigger.value!==0&&D(()=>{var m,T;return(T=(m=b(v))==null?void 0:m.scrollIntoView)==null?void 0:T.call(m,{block:"nearest"})})});function l(m){if(a.disabled)return m.preventDefault();e.closeMenu(),J(b(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(k.Nothing);e.goToItem(k.Specific,d)}let o=se();function u(m){o.update(m)}function f(m){o.wasMoved(m)&&(a.disabled||n.value||e.goToItem(k.Specific,d,0))}function h(m){o.wasMoved(m)&&(a.disabled||n.value&&e.goToItem(k.Nothing))}return()=>{let{disabled:m,...T}=a,X={active:n.value,disabled:m,close:e.closeMenu};return A({ourProps:{id:d,ref:v,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,onClick:l,onFocus:t,onPointerenter:u,onMouseenter:u,onPointermove:f,onMousemove:f,onPointerleave:h,onMouseleave:h},theirProps:{...r,...T},slot:X,attrs:r,slots:s,name:"MenuItem"})}}});const Fe={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-6"},Ae=["onClick"],$e={class:"whitespace-nowrap text-ink-gray-7"},Oe=C({__name:"Dropdown",props:{button:{},options:{default:()=>[]},placement:{default:"left"}},setup(a){const s=ve(),r=a,c=n=>{let i=()=>{n.route?s.push(n.route):n.onClick&&n.onClick()};return{label:n.label,icon:n.icon,component:n.component,onClick:i}},p=n=>(n||[]).filter(Boolean).filter(i=>i.condition?i.condition():!0).map(i=>c(i)),d=S(()=>{let n=[],i=null,g=0;for(let l of r.options)if(l!=null){if("group"in l){i&&(n.push(i),i=null);let t={key:g,...l,items:p(l.items)};n.push(t)}else i||(i={key:g,group:"",hideLabel:!0,items:[]}),i.items.push(...p([l]));g++}return i&&n.push(i),n}),e=S(()=>({enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"})),v=S(()=>r.placement==="left"?"bottom-start":r.placement==="right"?"bottom-end":r.placement==="center"?"bottom-center":"bottom");return(n,i)=>(x(),M(R(Re),{as:"div",class:"relative inline-block text-left"},{default:w(({open:g})=>[E(fe,{transition:e.value,show:g,placement:v.value},{target:w(()=>[E(R(Pe),{as:"div"},{default:w(()=>[n.$slots.default?me(n.$slots,"default",be(N({key:0},{open:g}))):(x(),M(R(ge),N({key:1,active:g},n.button),{default:w(()=>{var l;return[ye(O(n.button?((l=n.button)==null?void 0:l.label)||null:"Options"),1)]}),_:2},1040,["active"]))]),_:2},1024)]),body:w(()=>[E(R(Ce),{class:V(["mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"left-0 origin-top-left":n.placement=="left","right-0 origin-top-right":n.placement=="right","inset-x-0 origin-top":n.placement=="center"}])},{default:w(()=>[(x(!0),P(j,null,K(d.value,l=>(x(),P("div",{key:l.key,class:"p-1.5"},[l.group&&!l.hideLabel?(x(),P("div",Fe,O(l.group),1)):z("",!0),(x(!0),P(j,null,K(l.items,t=>(x(),M(R(Te),{key:t.label},{default:w(({active:o})=>[t.component?(x(),M(H(t.component),{key:0,active:o},null,8,["active"])):(x(),P("button",{key:1,class:V([o?"bg-surface-gray-3":"text-ink-gray-6","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:t.onClick},[t.icon&&typeof t.icon=="string"?(x(),M(he,{key:0,name:t.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6","aria-hidden":"true"},null,8,["name"])):t.icon?(x(),M(H(t.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6"})):z("",!0),Ie("span",$e,O(t.label),1)],10,Ae))]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:2},1032,["transition","show","placement"])]),_:3}))}});export{Ce as M,Pe as S,Oe as _,Te as b,Re as g,ke as s};
//# sourceMappingURL=Dropdown.vue_vue_type_script_setup_true_lang-78ec013f.js.map
