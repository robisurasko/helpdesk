{"version":3,"file":"agent-d2b033e5.js","sources":["../../../../desk/src/stores/agent.ts"],"sourcesContent":["import { computed } from \"vue\";\nimport { defineStore } from \"pinia\";\nimport { createListResource } from \"frappe-ui\";\n\nexport const useAgentStore = defineStore(\"agent\", () => {\n  const agents = createListResource({\n    doctype: \"HD Agent\",\n    fields: [\"name\", \"agent_name\", \"user\", \"user.user_image\"],\n    filters: { is_active: 1 },\n    pageLength: 99999,\n  });\n\n  const dropdown = computed(() =>\n    agents.data?.map((o) => ({\n      label: o.agent_name,\n      value: o.name,\n    }))\n  );\n\n  function searchAgents(query: string) {\n    return agents.data.filter((a) =>\n      a.user?.toLowerCase().includes(query.toLowerCase())\n    );\n  }\n\n  return {\n    dropdown,\n    agents,\n    searchAgents,\n  };\n});\n"],"names":["useAgentStore","defineStore","agents","createListResource","dropdown","computed","_a","o","searchAgents","query","a"],"mappings":"wDAIa,MAAAA,EAAgBC,EAAY,QAAS,IAAM,CACtD,MAAMC,EAASC,EAAmB,CAChC,QAAS,WACT,OAAQ,CAAC,OAAQ,aAAc,OAAQ,iBAAiB,EACxD,QAAS,CAAE,UAAW,CAAE,EACxB,WAAY,KAAA,CACb,EAEKC,EAAWC,EAAS,IAAA,OACxB,OAAAC,EAAAJ,EAAO,OAAP,YAAAI,EAAa,IAAKC,IAAO,CACvB,MAAOA,EAAE,WACT,MAAOA,EAAE,IAAA,IACT,EAGJ,SAASC,EAAaC,EAAe,CACnC,OAAOP,EAAO,KAAK,OAAQQ,UACzB,OAAAJ,EAAAI,EAAE,OAAF,YAAAJ,EAAQ,cAAc,SAASG,EAAM,eAAa,CAEtD,CAEO,MAAA,CACL,SAAAL,EACA,OAAAF,EACA,aAAAM,CAAA,CAEJ,CAAC"}