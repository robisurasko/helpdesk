{"version":3,"file":"Articles-26710fc4.js","sources":["../../../../desk/src/pages/knowledge-base/Articles.vue"],"sourcesContent":["<template>\n  <div class=\"p-5 pb-5 md:pb-10 px-10 w-full overflow-scroll items-center\">\n    <LayoutHeader>\n      <template #left-header>\n        <Breadcrumbs :items=\"breadcrumbs\" />\n      </template>\n    </LayoutHeader>\n    <div\n      class=\"pt-0 sm:px-5 w-full flex flex-col gap-2 max-w-4xl 2xl:max-w-5xl\"\n    >\n      <div\n        v-if=\"articles.data\"\n        class=\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-5\"\n      >\n        <ArticleCard\n          v-for=\"article in articles.data\"\n          :article=\"article\"\n          :key=\"article.name\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, computed } from \"vue\";\nimport { categoryName } from \"@/stores/knowledgeBase\";\nimport { Breadcrumbs, createResource } from \"frappe-ui\";\nimport LayoutHeader from \"@/components/LayoutHeader.vue\";\nimport ArticleCard from \"@/components/knowledge-base/ArticleCard.vue\";\nimport { capture } from \"@/telemetry\";\n\nconst props = defineProps({\n  categoryId: {\n    required: true,\n    type: String,\n  },\n});\n\nconst articles = createResource({\n  url: \"helpdesk.api.knowledge_base.get_category_articles\",\n  cache: [\"articles\", props.categoryId],\n  params: {\n    category: props.categoryId,\n  },\n  auto: true,\n});\n\nonMounted(() => {\n  categoryName.fetch({\n    category: props.categoryId,\n  });\n  capture(\"kb_customer_page_articles\", {\n    data: {\n      category: props.categoryId,\n    },\n  });\n});\n\nconst categoryTitle = computed(() => {\n  if (!categoryName.data) return;\n  return categoryName.data;\n});\n\nconst breadcrumbs = computed(() => {\n  return [\n    {\n      label: \"Knowledge Base\",\n      route: {\n        name: \"CustomerKnowledgeBase\",\n      },\n    },\n    {\n      label: categoryTitle.value,\n    },\n  ];\n});\n</script>\n"],"names":["props","__props","articles","createResource","onMounted","categoryName","capture","categoryTitle","computed","breadcrumbs"],"mappings":"6vDAgCA,MAAMA,EAAQC,EAORC,EAAWC,EAAe,CAC9B,IAAK,oDACL,MAAO,CAAC,WAAYH,EAAM,UAAU,EACpC,OAAQ,CACN,SAAUA,EAAM,UAClB,EACA,KAAM,EAAA,CACP,EAEDI,EAAU,IAAM,CACdC,EAAa,MAAM,CACjB,SAAUL,EAAM,UAAA,CACjB,EACDM,EAAQ,4BAA6B,CACnC,KAAM,CACJ,SAAUN,EAAM,UAClB,CAAA,CACD,CAAA,CACF,EAEK,MAAAO,EAAgBC,EAAS,IAAM,CACnC,GAAKH,EAAa,KAClB,OAAOA,EAAa,IAAA,CACrB,EAEKI,EAAcD,EAAS,IACpB,CACL,CACE,MAAO,iBACP,MAAO,CACL,KAAM,uBACR,CACF,EACA,CACE,MAAOD,EAAc,KACvB,CAAA,CAEH"}